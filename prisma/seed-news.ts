import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

// Sample Malayalam news titles
const newsTitles = [
  'เดชเตเดฐเดพเดฆเตเดถเดฟเด เดธเดฎเดฟเดคเดฟ เดฏเตเดเด: เดชเตเดคเดฟเดฏ เดชเดฆเตเดงเดคเดฟเดเตพ เดเดเดเตเดเดฐเดฟเดเตเดเต',
  'เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดฎเตเดเดฒเดฏเดฟเตฝ เดชเตเดคเดฟเดฏ เดจเดเดชเดเดฟเดเตพ',
  'เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดชเดฆเตเดงเดคเดฟ เดเดฐเดเดญเดฟเดเตเดเต',
  'เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดเดคเตเดธเดตเด เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดจเดเดจเตเดจเต',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดธเดนเดพเดฏเด เดตเดฟเดคเดฐเดฃเด เดเตเดฏเตเดคเต',
  'เดเดฐเตเดเตเดฏ เดเตเดฏเดพเดฎเตเดชเต เดธเดเดเดเดฟเดชเตเดชเดฟเดเตเดเต',
  'เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ เดธเดเดฐเดเตเดทเดฃ เดชเตเดฐเดตเตผเดคเตเดคเดจเด',
  'เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดชเตเดคเดฟเดฏ เดจเตเดคเตเดคเตเดตเด',
  'เดธเดพเดฎเตเดฆเดพเดฏเดฟเด เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดเดฐเดเดญเดฟเดเตเดเต',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดตเดฟเดเดธเดจ เดชเดฆเตเดงเดคเดฟ เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเดเต',
  'เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดธเตเดฅเดพเดชเดจเดคเตเดคเดฟเตฝ เดชเตเดคเดฟเดฏ เดธเตเดเดฐเตเดฏเดเตเดเตพ',
  'เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดชเดฐเดฟเดชเดพเดเดฟ เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ',
  'เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดชเตเดฐเดตเตผเดคเตเดคเดจเด',
  'เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดฏเตเดเด',
  'เดชเตเดฐเดพเดฆเตเดถเดฟเด เดตเดฟเดเดธเดจ เดชเดฆเตเดงเดคเดฟ',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดธเดนเดพเดฏเด เดจเตฝเดเดฟ',
  'เดเดฐเตเดเตเดฏ เดชเดฐเดฟเดชเดพเดเดฟ เดธเดเดเดเดฟเดชเตเดชเดฟเดเตเดเต',
  'เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ เดธเดเดฐเดเตเดทเดฃ เดชเตเดฐเดตเตผเดคเตเดคเดจเด',
  'เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดเดคเตเดธเดตเด เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ',
  'เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดฎเตเดเดฒเดฏเดฟเตฝ เดชเตเดคเดฟเดฏ เดจเดเดชเดเดฟเดเตพ',
  'เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดชเดฆเตเดงเดคเดฟ',
  'เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ',
  'เดชเตเดฐเดพเดฆเตเดถเดฟเด เดธเดฎเดฟเดคเดฟ เดฏเตเดเด',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดตเดฟเดเดธเดจ เดชเดฆเตเดงเดคเดฟ',
  'เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดธเตเดฅเดพเดชเดจเดคเตเดคเดฟเตฝ เดชเตเดคเดฟเดฏ เดธเตเดเดฐเตเดฏเดเตเดเตพ',
  'เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดชเดฐเดฟเดชเดพเดเดฟ',
  'เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดชเตเดฐเดตเตผเดคเตเดคเดจเด',
  'เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดฏเตเดเด',
  'เดชเตเดฐเดพเดฆเตเดถเดฟเด เดตเดฟเดเดธเดจ เดชเดฆเตเดงเดคเดฟ',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดธเดนเดพเดฏเด เดจเตฝเดเดฟ',
  'เดเดฐเตเดเตเดฏ เดชเดฐเดฟเดชเดพเดเดฟ เดธเดเดเดเดฟเดชเตเดชเดฟเดเตเดเต',
  'เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ เดธเดเดฐเดเตเดทเดฃ เดชเตเดฐเดตเตผเดคเตเดคเดจเด',
  'เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดเดคเตเดธเดตเด',
  'เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดฎเตเดเดฒเดฏเดฟเตฝ เดชเตเดคเดฟเดฏ เดจเดเดชเดเดฟเดเตพ',
  'เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดชเดฆเตเดงเดคเดฟ',
  'เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ',
  'เดชเตเดฐเดพเดฆเตเดถเดฟเด เดธเดฎเดฟเดคเดฟ เดฏเตเดเด',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดตเดฟเดเดธเดจ เดชเดฆเตเดงเดคเดฟ',
  'เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดธเตเดฅเดพเดชเดจเดคเตเดคเดฟเตฝ เดชเตเดคเดฟเดฏ เดธเตเดเดฐเตเดฏเดเตเดเตพ',
  'เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดชเดฐเดฟเดชเดพเดเดฟ',
  'เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดชเตเดฐเดตเตผเดคเตเดคเดจเด',
  'เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดฏเตเดเด',
  'เดชเตเดฐเดพเดฆเตเดถเดฟเด เดตเดฟเดเดธเดจ เดชเดฆเตเดงเดคเดฟ',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดธเดนเดพเดฏเด เดจเตฝเดเดฟ',
  'เดเดฐเตเดเตเดฏ เดชเดฐเดฟเดชเดพเดเดฟ',
  'เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ เดธเดเดฐเดเตเดทเดฃ เดชเตเดฐเดตเตผเดคเตเดคเดจเด',
  'เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดเดคเตเดธเดตเด',
  'เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดฎเตเดเดฒเดฏเดฟเตฝ เดชเตเดคเดฟเดฏ เดจเดเดชเดเดฟเดเตพ',
  'เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดชเดฆเตเดงเดคเดฟ',
  'เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ',
];

// Sample content templates
const contentTemplates = [
  'เดชเตเดฐเดพเดฆเตเดถเดฟเด เดธเดฎเดฟเดคเดฟ เดฏเตเดเดคเตเดคเดฟเตฝ เดชเตเดคเดฟเดฏ เดชเดฆเตเดงเดคเดฟเดเตพ เดเดเดเตเดเดฐเดฟเดเตเดเต. เดธเดฎเดฟเดคเดฟ เดเตเดฏเตผเดฎเดพเตป เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเด เดชเดฆเตเดงเดคเดฟเดเตพ เดชเตเดฐเดพเดฆเตเดถเดฟเด เดตเดฟเดเดธเดจเดคเตเดคเดฟเดจเต เดธเดนเดพเดฏเดเดฎเดพเดเตเด. เดธเดฎเดฟเดคเดฟ เดเดเดเดเตเดเตพ เดฏเตเดเดคเตเดคเดฟเตฝ เดชเดเตเดเตเดเตเดคเตเดคเต.',
  'เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดฎเตเดเดฒเดฏเดฟเตฝ เดชเตเดคเดฟเดฏ เดจเดเดชเดเดฟเดเตพ เดเดฐเดเดญเดฟเดเตเดเต. เดตเดฟเดฆเตเดฏเดพเตผเดคเตเดฅเดฟเดเตพเดเตเดเต เดฎเดฟเดเดเตเด เดธเตเดเดฐเตเดฏเดเตเดเตพ เดจเตฝเดเตเดจเตเดจเดคเดฟเดจเดพเดฏเดฟ เดชเดฆเตเดงเดคเดฟเดเตพ เดเดฐเดเดญเดฟเดเตเดเต. เดตเดฟเดฆเตเดฏเดพเดญเตเดฏเดพเดธ เดธเตเดฅเดพเดชเดจเดเตเดเดณเดฟเตฝ เดชเตเดคเดฟเดฏ เดธเตเดเดฐเตเดฏเดเตเดเตพ เดเตเตผเดเตเดเตเดจเตเดจเต.',
  'เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดชเดฆเตเดงเดคเดฟ เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดเดฐเดเดญเดฟเดเตเดเต. เดชเตเดฐเดฆเตเดถเดคเตเดคเดฟเดฒเต เดเดตเดถเตเดฏเดเตเดเดพเตผเดเตเดเต เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจเดเตเดเตพ เดจเตฝเดเตเดจเตเดจเดคเดฟเดจเดพเดฏเดฟ เดชเดฆเตเดงเดคเดฟ เดเดฐเดเดญเดฟเดเตเดเต. เดธเดพเดฎเตเดนเตเดฏ เดธเตเดตเดจ เดธเดเดเดเดจเดเตพ เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดเดฐเดเดญเดฟเดเตเดเต.',
  'เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดเดคเตเดธเดตเด เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดจเดเดจเตเดจเต. เดชเตเดฐเดฆเตเดถเดคเตเดคเดฟเดฒเต เดธเดพเดเดธเตเดเดพเดฐเดฟเด เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดชเตเดฐเดฆเตผเดถเดฟเดชเตเดชเดฟเดเตเดเต. เดเดคเตเดธเดตเดคเตเดคเดฟเตฝ เดตเดฒเดฟเดฏ เดเดฃเตเดฃเด เดเดณเตเดเตพ เดชเดเตเดเตเดเตเดคเตเดคเต.',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดธเดนเดพเดฏเด เดตเดฟเดคเดฐเดฃเด เดเตเดฏเตเดคเต. เดชเตเดฐเดฆเตเดถเดคเตเดคเดฟเดฒเต เดเดตเดถเตเดฏเดเตเดเดพเตผเดเตเดเต เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดธเดนเดพเดฏเด เดจเตฝเดเดฟ. เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดธเดนเดพเดฏ เดชเดฆเตเดงเดคเดฟ เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดจเดเดชเตเดชเดฟเดฒเดพเดเตเดเดฟ.',
  'เดเดฐเตเดเตเดฏ เดเตเดฏเดพเดฎเตเดชเต เดธเดเดเดเดฟเดชเตเดชเดฟเดเตเดเต. เดชเตเดฐเดฆเตเดถเดคเตเดคเดฟเดฒเต เดเดตเดถเตเดฏเดเตเดเดพเตผเดเตเดเต เดเดฐเตเดเตเดฏ เดชเดฐเดฟเดถเตเดงเดจ เดธเตเดเดฐเตเดฏเดเตเดเตพ เดจเตฝเดเดฟ. เดเดฐเตเดเตเดฏ เดเตเดฏเดพเดฎเตเดชเดฟเตฝ เดตเดฒเดฟเดฏ เดเดฃเตเดฃเด เดเดณเตเดเตพ เดชเดเตเดเตเดเตเดคเตเดคเต.',
  'เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ เดธเดเดฐเดเตเดทเดฃ เดชเตเดฐเดตเตผเดคเตเดคเดจเด เดเดฐเดเดญเดฟเดเตเดเต. เดชเตเดฐเดฆเตเดถเดคเตเดคเดฟเดฒเต เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ เดธเดเดฐเดเตเดทเดฃเดคเตเดคเดฟเดจเดพเดฏเดฟ เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดเดฐเดเดญเดฟเดเตเดเต. เดชเดฐเดฟเดธเตเดฅเดฟเดคเดฟ เดธเดเดฐเดเตเดทเดฃ เดธเดเดเดเดจเดเตพ เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดจเดเดคเตเดคเดฟ.',
  'เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดชเตเดคเดฟเดฏ เดจเตเดคเตเดคเตเดตเด เดคเดฟเดฐเดเตเดเตเดเตเดคเตเดคเต. เดฏเตเดตเดเดจ เดธเดเดเดเดจเดฏเตเดเต เดชเตเดคเดฟเดฏ เดจเตเดคเตเดคเตเดตเด เดคเดฟเดฐเดเตเดเตเดเตเดคเตเดคเต. เดชเตเดคเดฟเดฏ เดจเตเดคเตเดคเตเดตเด เดฏเตเดตเดเดจ เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดเดฐเดเดญเดฟเดเตเดเต.',
  'เดธเดพเดฎเตเดฆเดพเดฏเดฟเด เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดเดฐเดเดญเดฟเดเตเดเต. เดชเตเดฐเดฆเตเดถเดคเตเดคเดฟเดฒเต เดธเดพเดฎเตเดฆเดพเดฏเดฟเด เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดเดฐเดเดญเดฟเดเตเดเต. เดธเดพเดฎเตเดฆเดพเดฏเดฟเด เดธเดเดเดเดจเดเตพ เดชเตเดฐเดตเตผเดคเตเดคเดจเดเตเดเตพ เดจเดเดคเตเดคเดฟ.',
  'เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดตเดฟเดเดธเดจ เดชเดฆเตเดงเดคเดฟ เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเดเต. เดชเตเดฐเดฆเตเดถเดคเตเดคเดฟเดฒเต เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดตเดฟเดเดธเดจเดคเตเดคเดฟเดจเดพเดฏเดฟ เดชเดฆเตเดงเดคเดฟ เดชเตเดฐเดเตเดฏเดพเดชเดฟเดเตเดเต. เดธเดพเดฎเตเดชเดคเตเดคเดฟเด เดตเดฟเดเดธเดจ เดชเดฆเตเดงเดคเดฟ เดตเดฟเดเดฏเดเดฐเดฎเดพเดฏเดฟ เดจเดเดชเตเดชเดฟเดฒเดพเดเตเดเดฟ.',
];

// Sample image URLs (using placeholder images)
const imageUrls = [
  'https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800',
  'https://images.unsplash.com/photo-1495020689067-958852a7765e?w=800',
  'https://images.unsplash.com/photo-1586339949916-3e9457bef6d3?w=800',
  'https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=800',
  'https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800',
  'https://images.unsplash.com/photo-1495020689067-958852a7765e?w=800',
  'https://images.unsplash.com/photo-1586339949916-3e9457bef6d3?w=800',
  'https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=800',
];

// Sample links
const sampleLinks = [
  'https://www.koodathainews.in/2025/11/news-1.html',
  'https://www.koodathainews.in/2025/11/news-2.html',
  'https://www.koodathainews.in/2025/11/news-3.html',
  'https://www.koodathainews.in/2025/11/news-4.html',
  'https://www.koodathainews.in/2025/11/news-5.html',
];

// Sample phone numbers
const phoneNumbers = [
  '9562436891',
  '9876543210',
  '9123456789',
  '9988776655',
  '9876543211',
  '9123456780',
  '9988776656',
  '9876543212',
];

function getRandomElement<T>(array: T[]): T {
  return array[Math.floor(Math.random() * array.length)];
}

function getRandomDate(): Date {
  const now = new Date();
  const daysAgo = Math.floor(Math.random() * 90); // Random date within last 90 days
  const date = new Date(now);
  date.setDate(date.getDate() - daysAgo);
  date.setHours(Math.floor(Math.random() * 24));
  date.setMinutes(Math.floor(Math.random() * 60));
  return date;
}

function getRandomBoolean(): boolean {
  return Math.random() > 0.5;
}

// Default categories to create if they don't exist
const defaultCategories = [
  'Politics',
  'Sports',
  'Entertainment',
  'Technology',
  'Business',
  'Health',
  'Education',
  'Local',
];

async function main() {
  console.log('๐ฑ Starting news seed...');

  // Create categories first if they don't exist
  console.log('๐ Creating categories...');
  const categoryMap = new Map<string, string>();
  
  for (const categoryName of defaultCategories) {
    const existing = await prisma.category.findUnique({
      where: { name: categoryName },
    });
    
    if (!existing) {
      const category = await prisma.category.create({
        data: { name: categoryName },
      });
      categoryMap.set(categoryName, category.id);
      console.log(`  โ Created category: ${categoryName}`);
    } else {
      categoryMap.set(categoryName, existing.id);
      console.log(`  โน๏ธ  Category already exists: ${categoryName}`);
    }
  }

  // Get all locations and categories
  const locations = await prisma.location.findMany();
  const categories = await prisma.category.findMany();

  if (locations.length === 0) {
    console.error('โ No locations found. Please create locations first.');
    return;
  }

  if (categories.length === 0) {
    console.error('โ No categories found. Please create categories first.');
    return;
  }

  console.log(`๐ Found ${locations.length} locations`);
  console.log(`๐ Found ${categories.length} categories`);

  // Create 20 random news items
  const newsItems = [];
  for (let i = 0; i < 20; i++) {
    const title = getRandomElement(newsTitles);
    const content = getRandomElement(contentTemplates);
    const date = getRandomDate();
    const location = getRandomElement(locations);
    const category = getRandomElement(categories);
    
    // Randomly include optional fields
    const hasImage = getRandomBoolean();
    const hasLink = getRandomBoolean();
    const hasWhatsAppLink = getRandomBoolean();
    const hasContactPhone = getRandomBoolean();
    const hasContactWhatsApp = getRandomBoolean();
    const isSpecial = getRandomBoolean() && getRandomBoolean(); // 25% chance

    const newsData: {
      title: string;
      content: string;
      date: Date;
      locationId: string;
      categoryId: string;
      special?: boolean;
      image?: string;
      link?: string;
      whatsappLink?: string;
      contactPhone?: string;
      contactWhatsApp?: string;
    } = {
      title: title, // No number at the end
      content: `${content}\n\nเดชเตเดฐเดฆเตเดถเดคเตเดคเดฟเดฒเต เดเดตเดถเตเดฏเดเตเดเดพเตผเดเตเดเต เดเตเดเตเดคเตฝ เดตเดฟเดตเดฐเดเตเดเตพเดเตเดเต เดฌเดจเตเดงเดชเตเดชเตเดเดพเด.`,
      date: date,
      locationId: location.id,
      categoryId: category.id,
      special: isSpecial,
    };

    if (hasImage) {
      newsData.image = getRandomElement(imageUrls);
    }

    if (hasLink) {
      newsData.link = getRandomElement(sampleLinks);
    }

    if (hasWhatsAppLink) {
      newsData.whatsappLink = `https://chat.whatsapp.com/${Math.random().toString(36).substring(7)}`;
    }

    if (hasContactPhone) {
      newsData.contactPhone = getRandomElement(phoneNumbers);
    }

    if (hasContactWhatsApp) {
      newsData.contactWhatsApp = `wa.me/${getRandomElement(phoneNumbers)}`;
    }

    newsItems.push(newsData);
  }

  console.log(`๐ฐ Creating ${newsItems.length} news items...`);

  // Create news items in batches
  for (let i = 0; i < newsItems.length; i++) {
    try {
      await prisma.news.create({
        data: newsItems[i],
      });
      if ((i + 1) % 10 === 0) {
        console.log(`โ Created ${i + 1}/${newsItems.length} news items...`);
      }
    } catch (error) {
      console.error(`โ Error creating news item ${i + 1}:`, error);
    }
  }

  console.log(`๐ Successfully created ${newsItems.length} news items!`);
}

main()
  .catch((e) => {
    console.error('โ Error during seed:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });

